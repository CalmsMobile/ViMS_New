<ion-header>

  <ion-toolbar color="primary">
    <ion-title style="padding-left: 56px;">Visitor Details</ion-title>
    <ion-icon name="share-social-outline" slot="end" size="large" *ngIf="visitor && visitor.Approval_Status === 'Approved'" (click)="share()" style="margin-right: 15px;">
    </ion-icon>
    <ion-icon name="close-circle-outline" slot="end" size="large" (click)="dismiss()"></ion-icon>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row style="border-radius: 5px;
    margin: 5px;">
      <ion-col size="8">
        <ion-row>
          <ion-col size="12" *ngIf="(!settings || settings.NameEnabled)">
            <ion-label style="display: inline-flex;align-items: center;    font-weight: 600;">
              <ion-icon slot="start" color="primary" name="person-outline"></ion-icon>
              {{visitor.VISITOR_NAME? visitor.VISITOR_NAME :'&nbsp;&nbsp;--'}}
            </ion-label>
          </ion-col>
          <ion-col size="12" *ngIf="(!settings || settings.IdProofEnabled)">
            <ion-label text-wrap style="display: inline-flex;align-items: center;">
              <ion-icon name="id-card-outline" slot="start" color="primary"></ion-icon>
              {{visitor.VISITOR_IC? visitor.VISITOR_IC: '&nbsp;&nbsp;--'}}
            </ion-label>
          </ion-col>
          <ion-col size="12" *ngIf="(!settings || settings.CategoryEnabled)">
            <ion-label text-wrap style="display: inline-flex;align-items: center;">
              <ion-icon name="copy-outline" slot="start" color="primary"></ion-icon>
              {{(visitor.Visitor_category ? visitor.Visitor_category : visitor.VisitorCategory?visitor.VisitorCategory:'&nbsp;&nbsp;--') }}
            </ion-label>
          </ion-col>

          <ion-col size="12" *ngIf="(!settings || settings.CountryEnabled)">
            <ion-label text-wrap style="display: inline-flex;align-items: center;">
              <ion-icon name="locate-outline" slot="start" color="primary"></ion-icon>
              {{visitor.Country?visitor.Country: '&nbsp;&nbsp;--'}}
            </ion-label>
          </ion-col>

          <ion-col size="12" *ngIf="(!settings || settings.CompanyEnabled)">
            <ion-label text-wrap style="display: inline-flex;align-items: center;">
              <ion-icon name="business-outline" slot="start" color="primary"></ion-icon>
              {{visitor.VISITOR_COMPANY? visitor.VISITOR_COMPANY :'&nbsp;&nbsp;--'}}
            </ion-label>
          </ion-col>

          <ion-col size="12" *ngIf="(!settings || settings.EmailEnabled)">
            <ion-label text-wrap style="display: inline-flex;align-items: center;">
              <ion-icon name="mail-outline" slot="start" color="primary"></ion-icon>
              {{visitor.EMAIL? visitor.EMAIL :'&nbsp;&nbsp;--'}}
            </ion-label>
          </ion-col>

          <ion-col size="12" *ngIf="(!settings || settings.ContactNumberEnabled)">
            <ion-label text-wrap style="display: inline-flex;align-items: center;">
              <ion-icon name="call-outline" slot="start" color="primary"></ion-icon>
              {{visitor.TELEPHONE_NO ? visitor.TELEPHONE_NO :'&nbsp;&nbsp;--'}}
            </ion-label>
          </ion-col>
          <ion-col size="12" *ngIf="(!settings || settings.VehicleNumberEnabled)">
            <ion-label text-wrap style="display: inline-flex;align-items: center;">
              <ion-icon name="bicycle-outline" slot="start" color="primary"></ion-icon>
              {{visitor.PLATE_NUM ? visitor.PLATE_NUM :'&nbsp;&nbsp;--'}}
            </ion-label>
          </ion-col>
          <ion-col size="12" *ngIf="(!settings || settings.GenderEnabled)">
            <ion-label text-wrap style="display: inline-flex;align-items: center;">
              <ion-icon name="male-female-outline" slot="start" color="primary"></ion-icon>
              {{(visitor.VISITOR_GENDER === 0 || visitor.VISITOR_GENDER === '0') ? 'Female': (visitor.VISITOR_GENDER === 1 || visitor.VISITOR_GENDER === '1') ? 'Male': 'Other' }}
            </ion-label>
          </ion-col>

        </ion-row>
      </ion-col>
      <ion-col size="4">
        <ion-row *ngIf="(!settings || settings.ImageUploadEnabled)">
          <ion-col>
            <img style="width: 82px;height: 82px;    border-radius: 50%;" class="animated fadeInDown delay-1s qrCodeImage" onError="this.src='../../assets/images/user.png';"
          [src]="userImgPath" />
          </ion-col>
        </ion-row>
        <ion-row *ngIf="visitor && visitor.Approval_Status === 'Approved'">
          <ion-col>
            <img class="animated fadeInDown delay-1s" style="
          width: 82px;
          height: 82px;
          margin: 0 auto;
          display: block;"  [src]="qrCodePath">
          </ion-col>
        </ion-row>
      </ion-col>
    </ion-row>

  </ion-grid>
</ion-content>

<ion-footer *ngIf="IsDynamicQR">
  <ion-toolbar color="primary" style="text-align: center;">
    <ion-label class="center">QR image will refresh in {{TIMEOUT}} sec.</ion-label>
  </ion-toolbar>
</ion-footer>
