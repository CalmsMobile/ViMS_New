<ion-header>
  <ion-toolbar>
    <ion-title>Additional Details</ion-title>
  </ion-toolbar>
  <!-- <ion-toolbar>
    <ion-title style="font-size: 14px">{{addAppointmentModel.START_DATE | date: "MMM dd, yyyy HH:mm a"}} to {{addAppointmentModel.END_DATE | date: "MMM dd, yyyy HH:mm a"}}</ion-title>
    <h1 *ngIf="VISITOR_SIZE == 0 || VISITOR_SIZE == 1" style="color:white">{{VISITOR_SIZE}} Visitor</h1>
    <h1 *ngIf="VISITOR_SIZE > 1" style="color:white">{{VISITOR_SIZE}} Visitors</h1>
  </ion-toolbar> -->
</ion-header>
<ion-content padding>
    <ion-grid>
        <ion-row align-items-start>
          <form novalidate col-12 col-sm-12 col-md-12 (ngSubmit)="proceedToNextStep()" [formGroup]="appointment" class="simple-form">
              <ion-col no-padding col-12 col-sm-12 col-md-12 offset-lg-3 col-lg-6 offset-xl-3 col-xl-6>
                <!-- <ion-item no-lines no-padding transparent *ngIf="hostSettings && hostSettings.isFacility && hostSettings.RoomEnabled && hostSettings.RoomRequired">
                   <ion-select mode="ios" required formControlName="facility" [disabled] = "onedit && addAppointmentModel.FacilityCode" style="font-size: 16px;" [(ngModel)]="addAppointmentModel.FacilityCode" enableBackdropDismiss interface="action-sheet" placeholder="{{'ADD_APPOIN.STEP2.LAB_FACILITY_NAME' | translate}}">
                      <ion-label>{{'ADD_APPOIN.STEP2.LAB_FACILITY_NAME' | translate}}</ion-label>
                      <ion-select-option text-left *ngFor="let avl_reason of VM.FACILITYMASTERLIST" (ionSelect)="onChangeFacility(avl_reason)" [value]="avl_reason.FacilityCode">
                        {{avl_reason.FacilityName}}
                      </ion-select-option>
                    </ion-select>
                </ion-item> -->
                <ion-item no-lines no-padding transparent *ngIf="!hostSettings || hostSettings.isFacility">
                    <ion-label style="    font-size: 16px;" color="favorite" stacked>{{'ADD_APPOIN.STEP2.LAB_FACILITY' | translate}}</ion-label>
                    <ion-select mode="ios" interface="action-sheet" formControlName="facility" [disabled] = "onedit && addAppointmentModel.FacilityCode" style="font-size: 16px;" [(ngModel)]="addAppointmentModel.FacilityCode" interface="action-sheet" placeholder="{{'ADD_APPOIN.STEP2.LAB_FACILITY_NAME' | translate}}">
                      <ion-label>{{'ADD_APPOIN.STEP2.LAB_FACILITY_NAME' | translate}}</ion-label>
                      <ion-select-option text-left *ngFor="let avl_reason of VM.FACILITYMASTERLIST" (ionSelect)="onChangeFacility(avl_reason)" [value]="avl_reason.FacilityCode">
                        {{avl_reason.FacilityName}}
                      </ion-select-option>
                    </ion-select>
                </ion-item>
                <ion-item no-lines transparent no-lines *ngIf="hostSettings && hostSettings.isFacility && (appointment.get('facility').hasError('required') && appointment.get('facility').touched)">
                    <div class="error" style="color:red" *ngIf="appointment.get('facility').hasError('required') && appointment.get('facility').touched">
                      {{'ADD_APPOIN.STEP2.REQUIRED_LAB_FACILITY_NAME' | translate}}
                    </div>
                </ion-item>
                <ion-item no-lines no-padding transparent *ngIf="hostSettings && hostSettings.isFacility && hostSettings.PurposeEnabled && hostSettings.PurposeRequired">
                  <ion-label style="    font-size: 16px;" color="favorite" stacked>{{'FACILITY_BOOKING.STEP2.LAB_PURPOSE' | translate}}</ion-label>
                  <ion-select mode="ios" interface="action-sheet" required formControlName="purpose" style="    font-size: 16px;" [(ngModel)]="addAppointmentModel.PurposeCode" interface="action-sheet" [disabled] = "onedit && addAppointmentModel.PurposeCode" placeholder="{{'ADD_APPOIN.STEP2.LAB_PURPOSE' | translate}}">
                    <ion-label floating>{{'FACILITY_BOOKING.STEP2.LAB_PURPOSE' | translate}}</ion-label>
                    <ion-select-option text-left *ngFor="let avl_reason of VM.FACILITYPURPOSELIST" (ionSelect)="onChangePurpose(avl_reason)" [value]="avl_reason.PurposeCode">
                      {{avl_reason.PurposeName}}
                    </ion-select-option>
                  </ion-select>
                </ion-item>
                <ion-item no-lines no-padding transparent *ngIf="hostSettings && hostSettings.isFacility && hostSettings.PurposeEnabled && !hostSettings.PurposeRequired">
                    <ion-label style="    font-size: 16px;" color="favorite" stacked>{{'FACILITY_BOOKING.STEP2.LAB_PURPOSE' | translate}}</ion-label>
                    <ion-select mode="ios" formControlName="purpose" style="    font-size: 16px;" [(ngModel)]="addAppointmentModel.PurposeCode" interface="action-sheet" [disabled] = "onedit && addAppointmentModel.PurposeCode" placeholder="{{'ADD_APPOIN.STEP2.LAB_PURPOSE' | translate}}">
                      <ion-label floating>{{'FACILITY_BOOKING.STEP2.LAB_PURPOSE' | translate}}</ion-label>
                      <ion-select-option text-left *ngFor="let avl_reason of VM.FACILITYPURPOSELIST" (ionSelect)="onChangePurpose(avl_reason)" [value]="avl_reason.PurposeCode">
                        {{avl_reason.PurposeName}}
                      </ion-select-option>
                    </ion-select>
                  </ion-item>
                <ion-item no-lines transparent no-lines *ngIf="hostSettings && hostSettings.isFacility && (appointment.get('purpose').hasError('required') && appointment.get('purpose').touched)">
                    <div class="error" style="color:red" *ngIf="appointment.get('purpose').hasError('required') && appointment.get('purpose').touched">
                      {{'ADD_APPOIN.STEP2.REQUIRED_LAB_PURPOSE' | translate}}
                    </div>
                </ion-item>
                <ion-item no-lines no-padding transparent *ngIf="hostSettings && hostSettings.isFacility && hostSettings.RemarksEnabled && hostSettings.RemarksRequired">
                    <ion-label style="    font-size: 16px;" color="favorite" stacked>{{'ADD_APPOIN.STEP2.REMARKS' | translate}}</ion-label>
                    <ion-input required formControlName="remarks" style="    font-size: 16px;" placeholder="" type="text" [(ngModel)]="addAppointmentModel.Remarks"></ion-input>
                </ion-item>
                <ion-item no-lines no-padding transparent *ngIf="hostSettings && hostSettings.isFacility && hostSettings.RemarksEnabled && !hostSettings.RemarksRequired">
                    <ion-label style="    font-size: 16px;" color="favorite" stacked>{{'ADD_APPOIN.STEP2.REMARKS' | translate}}</ion-label>
                    <ion-input formControlName="remarks" style="    font-size: 16px;" placeholder="" type="text" [(ngModel)]="addAppointmentModel.Remarks"></ion-input>
                </ion-item>

                <ion-item no-lines transparent no-lines *ngIf="hostSettings && hostSettings.isFacility && (appointment.get('remarks').hasError('required') && appointment.get('remarks').touched)">
                    <div class="error" style="color:red" *ngIf="appointment.get('remarks').hasError('required') && appointment.get('remarks').touched">
                      {{'ADD_APPOIN.STEP2.REQUIRED_REMARKS' | translate}}
                    </div>
                </ion-item>

                <ion-item no-lines no-border no-padding transparent *ngIf="hostSettings && hostSettings.isFacility && hostSettings.VehicleNumberEnabled && hostSettings.VehicleNumberRequired">
                    <ion-label style="    font-size: 16px;" color="favorite" stacked>{{'ADD_APPOIN.STEP2.VECHILE_NO' | translate}}</ion-label>
                    <ion-input required formControlName="vehicle_no" style="    font-size: 16px;"  type="text" [(ngModel)]="addAppointmentModel.vehicle_no"></ion-input>
                  </ion-item>
                  <ion-item no-lines no-border no-padding transparent *ngIf="hostSettings && hostSettings.isFacility && hostSettings.VehicleNumberEnabled && !hostSettings.VehicleNumberRequired">
                    <ion-label style="    font-size: 16px;" color="favorite" stacked>{{'ADD_APPOIN.STEP2.VECHILE_NO' | translate}}</ion-label>
                    <ion-input formControlName="vehicle_no" style="    font-size: 16px;"  type="text" [(ngModel)]="addAppointmentModel.vehicle_no"></ion-input>
                  </ion-item>

                  <!-- <ion-item no-lines no-border no-padding transparent>
                    <ion-label style="    font-size: 16px;" color="favorite" floating>Age</ion-label>
                    <ion-input formControlName="vehicle_no" style="    font-size: 16px;"  type="text"
                    [(ngModel)]="addAppointmentModel.age"
                    ></ion-input>
                  </ion-item>

                  <ion-item no-lines no-padding transparent>

                    <ion-select mode="ios" formControlName="gender" [(ngModel)]="addAppointmentModel.visitor_gender"
                    interface="action-sheet" placeholder="{{'COMMON.SELECT_GENDER' | translate}}"
                    >
                      <ion-label>{{'COMMON.SELECT' | translate}}</ion-label>
                      <ion-select mode="ios" *ngFor="let gender of GenderList" (ionSelect)="onChangeGender(gender)" [value]="gender.value">{{gender.name}}</ion-select>
                    </ion-select>
                  </ion-item>

                  <ion-item no-lines no-padding transparent *ngIf="isWomen">
                    <ion-checkbox>

                    </ion-checkbox>
                    <ion-label style="margin:0px !important">Pregnant</ion-label>
                  </ion-item>

                  <ion-item no-lines no-padding transparent>

                    <ion-select mode="ios" formControlName="gender" [(ngModel)]="addAppointmentModel.visitor_gender"
                    interface="action-sheet" placeholder="Marital Status"
                    >
                      <ion-label>{{'COMMON.SELECT' | translate}}</ion-label>
                      <ion-select mode="ios" *ngFor="let gender of MaritalList" [value]="gender.value">{{gender.name}}</ion-select>
                    </ion-select>
                  </ion-item> -->

                  <ion-item no-lines transparent no-lines *ngIf="hostSettings && hostSettings.isFacility && (appointment.get('vehicle_no').hasError('required') && appointment.get('vehicle_no').touched)">
                      <div class="error" style="color:red" *ngIf="appointment.get('vehicle_no').hasError('required') && appointment.get('vehicle_no').touched">
                        {{'ADD_APPOIN.STEP2.REQUIRED_VECHILE_NO' | translate}}
                      </div>
                  </ion-item>
                <ion-item no-lines no-padding transparent *ngIf="hostSettings && !hostSettings.isFacility && hostSettings.PurposeEnabled && hostSettings.PurposeRequired">
                  <ion-label style="    font-size: 16px;" color="favorite" stacked>{{'ADD_APPOIN.STEP2.LAB_PURPOSE' | translate}}</ion-label>
                  <ion-select mode="ios" required formControlName="purpose" style="    font-size: 16px;" [(ngModel)]="addAppointmentModel.REASON" interface="action-sheet" placeholder="{{'ADD_APPOIN.STEP2.SELECT_LAB_PURPOSE' | translate}}">
                    <ion-label>{{'ADD_APPOIN.STEP2.SELECT_LAB_PURPOSE' | translate}}</ion-label>
                    <ion-select-option text-left *ngFor="let avl_reason of VM.AVAIL_REASONS" [value]="avl_reason.visitpurpose_desc">
                      {{avl_reason.visitpurpose_desc}}
                    </ion-select-option>
                  </ion-select>
                </ion-item>
                <ion-item no-lines no-padding transparent *ngIf="hostSettings && !hostSettings.isFacility && hostSettings.PurposeEnabled && !hostSettings.PurposeRequired">
                  <ion-label style="    font-size: 16px;" color="favorite" stacked>{{'ADD_APPOIN.STEP2.LAB_PURPOSE' | translate}}</ion-label>
                  <ion-select mode="ios" formControlName="purpose" style="    font-size: 16px;" [(ngModel)]="addAppointmentModel.REASON" interface="action-sheet" placeholder="{{'ADD_APPOIN.STEP2.SELECT_LAB_PURPOSE' | translate}}">
                    <ion-label>{{'ADD_APPOIN.STEP2.SELECT_LAB_PURPOSE' | translate}}</ion-label>
                    <ion-select-option text-left *ngFor="let avl_reason of VM.AVAIL_REASONS" [value]="avl_reason.visitpurpose_desc">
                      {{avl_reason.visitpurpose_desc}}
                    </ion-select-option>
                  </ion-select>
                </ion-item>
                <ion-item no-lines transparent no-lines *ngIf="hostSettings && !hostSettings.isFacility && (appointment.get('purpose').hasError('required') && appointment.get('purpose').touched)">
                  <div class="error" style="color:red" *ngIf="appointment.get('purpose').hasError('required') && appointment.get('purpose').touched">
                    {{'ADD_APPOIN.STEP2.REQUIRED_LAB_PURPOSE' | translate}}
                  </div>
              </ion-item>
                <ion-item no-lines no-padding transparent *ngIf="hostSettings && !hostSettings.isFacility && hostSettings.FloorEnabled && hostSettings.FloorRequired">
                  <ion-label style="    font-size: 16px;" color="favorite" stacked>{{'ADD_APPOIN.STEP2.LAB_FLOOR' | translate}}</ion-label>
                  <ion-select mode="ios" interface="action-sheet" required formControlName="floor" style="    font-size: 16px;" [(ngModel)]="addAppointmentModel.Floor" placeholder="{{'ADD_APPOIN.STEP2.SELECT_FLOOR' | translate}}">
                  <ion-label>{{'ADD_APPOIN.STEP2.SELECT_FLOOR' | translate}}</ion-label>
                    <ion-select-option text-left *ngFor="let avl_floor of VM.AVAIL_FLOOR"
                      [value]="avl_floor.floor_desc" >
                      {{avl_floor.floor_desc}}
                    </ion-select-option>
                  </ion-select>
                </ion-item>
                <ion-item no-lines no-padding transparent *ngIf="hostSettings && !hostSettings.isFacility && hostSettings.FloorEnabled && !hostSettings.FloorRequired">
                  <ion-label style="    font-size: 16px;" color="favorite" stacked>{{'ADD_APPOIN.STEP2.LAB_FLOOR' | translate}}</ion-label>
                  <ion-select mode="ios" interface="action-sheet" formControlName="floor" style="    font-size: 16px;" [(ngModel)]="addAppointmentModel.Floor" placeholder="{{'ADD_APPOIN.STEP2.SELECT_FLOOR' | translate}}"
                  interface="action-sheet">
                  <ion-label>{{'ADD_APPOIN.STEP2.SELECT_FLOOR' | translate}}</ion-label>
                    <ion-select-option text-left *ngFor="let avl_floor of VM.AVAIL_FLOOR"
                      [value]="avl_floor.floor_desc" >
                      {{avl_floor.floor_desc}}
                    </ion-select-option>
                  </ion-select>
                </ion-item>
                <ion-item no-lines transparent no-lines *ngIf="hostSettings && !hostSettings.isFacility && (appointment.get('floor').hasError('required') && appointment.get('floor').touched)">
                  <div class="error" style="color:red" *ngIf="appointment.get('floor').hasError('required') && appointment.get('floor').touched">
                    {{'ADD_APPOIN.STEP2.REQUIRED_LAB_FLOOR' | translate}}
                  </div>
              </ion-item>
                <ion-item no-lines no-padding transparent *ngIf="hostSettings && !hostSettings.isFacility && hostSettings.RoomEnabled && hostSettings.RoomRequired">
                  <ion-label style="    font-size: 16px;" color="favorite" stacked>{{'ADD_APPOIN.STEP2.LAB_ROOM' | translate}}</ion-label>
                  <ion-select mode="ios" interface="action-sheet" required formControlName="room" style="    font-size: 16px;" [(ngModel)]="addAppointmentModel.Room" placeholder="{{'ADD_APPOIN.STEP2.LAB_SELECT_ROOM' | translate}}"
                  interface="action-sheet">
                  <ion-label>{{'ADD_APPOIN.STEP2.LAB_SELECT_ROOM' | translate}}</ion-label>
                    <ion-select-option text-left *ngFor="let avl_room of VM.AVAIL_ROOMS"
                      [value]="avl_room.Meetingroom_Level" >
                      {{avl_room.Meetingroom_Level}}
                    </ion-select-option>
                  </ion-select>
                </ion-item>
                <ion-item no-lines no-padding transparent *ngIf="hostSettings && !hostSettings.isFacility && hostSettings.RoomEnabled && !hostSettings.RoomRequired">
                  <ion-label style="    font-size: 16px;" color="favorite" stacked>{{'ADD_APPOIN.STEP2.LAB_ROOM' | translate}}</ion-label>
                  <ion-select mode="ios" interface="action-sheet" formControlName="room" style="font-size: 16px;" [(ngModel)]="addAppointmentModel.Room" placeholder="{{'ADD_APPOIN.STEP2.LAB_SELECT_ROOM' | translate}}"
                  interface="action-sheet">
                  <ion-label>{{'ADD_APPOIN.STEP2.LAB_SELECT_ROOM' | translate}}</ion-label>
                    <ion-select-option text-left *ngFor="let avl_room of VM.AVAIL_ROOMS"
                      [value]="avl_room.Meetingroom_Level" >
                      {{avl_room.Meetingroom_Level}}
                    </ion-select-option>
                  </ion-select>
                </ion-item>
              <ion-item no-lines transparent no-lines *ngIf="hostSettings && !hostSettings.isFacility && (appointment.get('room').hasError('required') && appointment.get('room').touched)">
                  <div class="error" style="color:red" *ngIf="appointment.get('room').hasError('required') && appointment.get('room').touched">
                    {{'ADD_APPOIN.STEP2.REQUIRED_LAB_ROOM' | translate}}
                  </div>
              </ion-item>
              <ion-item no-lines no-border no-padding transparent *ngIf="hostSettings && !hostSettings.isFacility && hostSettings.RemarksEnabled && hostSettings.RemarksRequired">
                <ion-label style="    font-size: 16px;" color="favorite" stacked>{{'ADD_APPOIN.STEP2.REMARKS' | translate}}</ion-label>
                <ion-input required formControlName="remarks" style="    font-size: 16px;" placeholder="" type="text" [(ngModel)]="addAppointmentModel.Remarks"></ion-input>
            </ion-item>
            <ion-item no-lines no-border no-padding transparent *ngIf="hostSettings && !hostSettings.isFacility && hostSettings.RemarksEnabled && !hostSettings.RemarksRequired">
                <ion-label style="    font-size: 16px;" color="favorite" stacked>{{'ADD_APPOIN.STEP2.REMARKS' | translate}}</ion-label>
                <ion-input formControlName="remarks" style="    font-size: 16px;" placeholder="" type="text" [(ngModel)]="addAppointmentModel.Remarks"></ion-input>
            </ion-item>

            <ion-item no-lines no-border transparent no-lines *ngIf="hostSettings && !hostSettings.isFacility && (appointment.get('remarks').hasError('required') && appointment.get('remarks').touched)">
                <div class="error" style="color:red" *ngIf="appointment.get('remarks').hasError('required') && appointment.get('remarks').touched">
                  {{'ADD_APPOIN.STEP2.REQUIRED_REMARKS' | translate}}
                </div>
            </ion-item>
              <ion-item no-lines no-border no-padding transparent *ngIf="hostSettings && !hostSettings.isFacility && hostSettings.VehicleNumberEnabled && hostSettings.VehicleNumberRequired">
                <ion-label style="    font-size: 16px;" color="favorite" stacked>{{'ADD_APPOIN.STEP2.VECHILE_NO' | translate}}</ion-label>
                <ion-input required formControlName="vehicle_no" style="    font-size: 16px;"  type="text" [(ngModel)]="addAppointmentModel.vehicle_no"></ion-input>
              </ion-item>
              <ion-item no-lines no-border no-padding transparent *ngIf="hostSettings && !hostSettings.isFacility && hostSettings.VehicleNumberEnabled && !hostSettings.VehicleNumberRequired">
                <ion-label style="    font-size: 16px;" color="favorite" stacked>{{'ADD_APPOIN.STEP2.VECHILE_NO' | translate}}</ion-label>
                <ion-input formControlName="vehicle_no" style="    font-size: 16px;"  type="text" [(ngModel)]="addAppointmentModel.vehicle_no"></ion-input>
              </ion-item>
              <ion-item no-lines no-border transparent no-lines *ngIf="hostSettings && !hostSettings.isFacility && (appointment.get('vehicle_no').hasError('required') && appointment.get('vehicle_no').touched)">
                <div class="error" style="color:red" *ngIf="appointment.get('vehicle_no').hasError('required') && appointment.get('vehicle_no').touched">
                  {{'ADD_APPOIN.STEP2.REQUIRED_VECHILE_NO' | translate}}
                </div>
              </ion-item>
              <ion-col align-self-end bottom-form col-12 col-sm-12 col-md-12 offset-lg-3 col-lg-6 offset-xl-3 col-xl-6>
                <button *ngIf="!edit" ion-button icon-right round outline color="favorite" type="submit"
                style="margin-left: auto;margin-top:25px; display: block;padding: 15px"
                [disabled]= "appointment.invalid">
                    {{'ACC_MAPPING.PROCEED' | translate}}
                  <ion-icon class="icon siva-icon-right-open"></ion-icon>
                </button>
                <button *ngIf="edit" ion-button icon-right round outline color="favorite" type="submit"
                style="margin-left: auto;margin-top:25px; display: block;"
                [disabled]= "appointment.invalid">
                    {{'ACC_MAPPING.UPDATE' | translate}}
                  <ion-icon class="icon siva-icon-right-open"></ion-icon>
                </button>
            </ion-col>
          </ion-col>
          </form>
        </ion-row>
    </ion-grid>
</ion-content>
